---
order: 3
title: Média WMTS
---

# Publier un jeu de données ayant un média de type WMTS

Vous trouverez ci-dessous la section available format à ajouter à votre json de publication. 

Point Infos : Pour récupérer un json d'un jeu de données présent sur rudi.bzh vous pouvez le requêter en effectuant un GET sur l'url d'un média présent dans la page de détail du jeu de données (section : "Source de données"). 
* La requête : curl -v -X GET "https://rudi.bzh/medias/fd6be827-a10f-46d0-9c58-e143d26f7e55/dwnl/1.0.0".

La section de code à ajouter au JSON (particularité : Seule la projection 3857 permet une visualisation au sein du portail.): 

```

    "available_formats": [
        {
            "media_type": "SERVICE", //Correspond au type de media, ici il s'agit d'un service 
            "media_id": "{{$guid}}", //Correspond à l'uuid du media, vous pouvez renseigner cette métgode
            "connector": {
                "interface_contract": "wmts", //Correspond au type de service
                "url": "https://public.sig.rennesmetropole.fr/geowebcache/service/wmts", // Corresopnd au début d'une url récupérée sur un geoserver, ici nous nous arrêterons à "wmts"
                "connector_parameters": [
                    {
                        "key": "layer", //Correspond à la clé utilisée (ne pas la changer)
                        "value": "ref_fonds:top25", // Correspond à la layer à afficher
                        "type": "STRING",
                        "usage": "Nom du layer à récupérer", //Correspond au nom du layer à afficher
                        "accepted_values": [
                            {
                                "cle": "layer" //Correspond à la clé utilisée (ne pas la changer)
                            }
                        ]
                    },
                    {
                        "key": "default_crs", //Correspond à la clé utilisée (ne pas la changer)
                        "value": "EPSG:3857", //Correspond à la projection (ne pas la changer)
                        "type": "STRING",
                        "accepted_values": [
                            {
                                "cle": "default_crs" //Correspond à la clé utilisée (ne pas la changer)
                            }
                        ]
                    },
                    {
                        "key": "versions",//Correspond à la clé utilisée (ne pas la changer)
                        "value": "1.3.0", //Correspond à la version (cette information est à récupérer au sein de l'url affichée dans votre onglet geoserver)
                        "type": "STRING",
                        "accepted_values": [
                            {
                                "cle": "versions"  //Correspond à la clé utilisée (ne pas la changer)
                            }
                        ]
                    },
                    {
                        "key": "matrix_set", //Correspond à la clé utilisée (ne pas la changer)
                        "value": "EPSG:3857", //Correspond à la projection (ne pas la changer)
                        "type": "STRING",
                        "usage": "Nom du matrix set conjoint à la projection",//Correspond au helper du matrix_set
                        "accepted_values": [
                            {
                                "cle": "matrix_set"//Correspond à la clé utilisée (ne pas la changer)
                            }
                        ]
                    },
                    {
                        "key": "matrix_id_prefix", //Correspond à la clé utilisée (ne pas la changer)
                        "value": "EPSG:3857", //Correspond à la projection (ne pas la changer)
                        "type": "STRING",
                        "usage": "Nom du préfixe au matrix set conjoint au matrix set", //Correspond au helper du matrix_id_prefix
                        "accepted_values": [
                            {
                                "cle": "matrix_id_prefix" //Correspond à la projection (ne pas la changer)
                            }
                        ]
                    },
                    {
                        "key": "formats", //Correspond à la clé utilisée (ne pas la changer)
                        "value": "image/png", //Correspond au format (ne pas changer)
                        "type": "STRING",
                        "usage": "Format des images pour l'affichage", //Correspond au helper du format
                        "accepted_values": [
                            {
                                "cle": "format"
                            }
                        ]
                    },
                    {
                        "key": "max_zoom",  //Correspond à la clé utilisée (ne pas la changer)
                        "value": "30",  //Correspond à la valeur que vous souhaitez attribuer à votre max zoom
                        "type": "STRING",
                        "usage": "Niveau max du zoom pour le layer",  //Correspond au helper du maxzoom
                        "accepted_values": [
                            {
                                "cle": "30"
                            }
                        ]
                    }
                ]
            }
        }
    ],

```
